/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * frmPrincipal.java
 *
 * Created on 24-ago-2009, 2:17:16
 */

package formularios;

import java.awt.Image;
import java.awt.image.ImageProducer;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 *
 * @author silvina
 */
public class frmPrincipal extends javax.swing.JFrame {
    finger.clsFinger objFINGER;
    public Image imagenHuella = null;
    crud.Ciudadanos ciudadanoActual=null;
    /** Creates new form frmPrincipal */
    public frmPrincipal() {
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        pnlHuella = new javax.swing.JPanel();
        pnlImagen = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        txtNombre = new javax.swing.JTextField();
        txtApellido = new javax.swing.JTextField();
        txtDni = new javax.swing.JTextField();
        cbDedo = new javax.swing.JComboBox();
        jPanel2 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txtLog = new javax.swing.JTextArea();
        chkDeshabilitarLog = new javax.swing.JCheckBox();
        btnLimpiarLog = new javax.swing.JButton();
        jLabel2 = new javax.swing.JLabel();
        lblSensorId = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        lblSendorEstado = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel16 = new javax.swing.JLabel();
        jPanel4 = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jLabel15 = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        txtFechaNacimineto = new javax.swing.JTextField();
        txtTelefono = new javax.swing.JTextField();
        txtCelular = new javax.swing.JTextField();
        txtEmail = new javax.swing.JTextField();
        txtCodigoPostal = new javax.swing.JTextField();
        jPanel6 = new javax.swing.JPanel();
        txtBarrio = new javax.swing.JTextField();
        txtCalle = new javax.swing.JTextField();
        txtNumero = new javax.swing.JTextField();
        txtDepartamento = new javax.swing.JTextField();
        txtPiso = new javax.swing.JTextField();
        btnRegistrar = new javax.swing.JButton();
        jPanel9 = new javax.swing.JPanel();
        lblMensaje = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Pablo");

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        pnlHuella.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(153, 153, 153), 1, true));

        javax.swing.GroupLayout pnlHuellaLayout = new javax.swing.GroupLayout(pnlHuella);
        pnlHuella.setLayout(pnlHuellaLayout);
        pnlHuellaLayout.setHorizontalGroup(
            pnlHuellaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 129, Short.MAX_VALUE)
        );
        pnlHuellaLayout.setVerticalGroup(
            pnlHuellaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 112, Short.MAX_VALUE)
        );

        pnlImagen.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        javax.swing.GroupLayout pnlImagenLayout = new javax.swing.GroupLayout(pnlImagen);
        pnlImagen.setLayout(pnlImagenLayout);
        pnlImagenLayout.setHorizontalGroup(
            pnlImagenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 104, Short.MAX_VALUE)
        );
        pnlImagenLayout.setVerticalGroup(
            pnlImagenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 110, Short.MAX_VALUE)
        );

        jPanel7.setLayout(new java.awt.GridLayout(4, 1));

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel4.setText("Nombre");
        jPanel7.add(jLabel4);

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel5.setText("Apellido");
        jPanel7.add(jLabel5);

        jLabel6.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel6.setText("DNI");
        jPanel7.add(jLabel6);

        jLabel17.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel17.setText("Dedo");
        jPanel7.add(jLabel17);

        jPanel8.setLayout(new java.awt.GridLayout(4, 1));

        txtNombre.setEditable(false);
        jPanel8.add(txtNombre);

        txtApellido.setEditable(false);
        jPanel8.add(txtApellido);

        txtDni.setEditable(false);
        jPanel8.add(txtDni);

        cbDedo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "\t", "Pulgar Derecho", "Índice Derecho", "Mayor Derecho", "Anular Derecho", "Meñique Derecho", "Pulgar Izquierdo", "Índice Izquierdo", "Mayor Izquierdo", "Anular Izquierdo", "Meñique Izquierdo" }));
        jPanel8.add(cbDedo);

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(pnlHuella, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(354, 354, 354)
                .addComponent(pnlImagen, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(157, 157, 157)
                    .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(392, Short.MAX_VALUE)))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addGap(231, 231, 231)
                    .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, 247, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(136, Short.MAX_VALUE)))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(pnlHuella, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(pnlImagen, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, 114, Short.MAX_VALUE)
                    .addContainerGap()))
            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel1Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, 114, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        jPanel2.setBorder(javax.swing.BorderFactory.createEtchedBorder());

        jLabel1.setText("Log de Eventos");

        txtLog.setColumns(20);
        txtLog.setRows(5);
        jScrollPane1.setViewportView(txtLog);

        chkDeshabilitarLog.setText("Deshabilitar el Registro de eventos en el Log");

        btnLimpiarLog.setText("Limpiar Log");
        btnLimpiarLog.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimpiarLogActionPerformed(evt);
            }
        });

        jLabel2.setText("Sensor:");

        lblSensorId.setText("sensor1");

        jLabel3.setText("Estado:");

        lblSendorEstado.setText("Funcionando");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 594, Short.MAX_VALUE)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel1)
                        .addGap(18, 18, 18)
                        .addComponent(chkDeshabilitarLog)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 178, Short.MAX_VALUE)
                        .addComponent(btnLimpiarLog))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel2Layout.createSequentialGroup()
                        .addComponent(jLabel2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblSensorId, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblSendorEstado, javax.swing.GroupLayout.DEFAULT_SIZE, 282, Short.MAX_VALUE)
                        .addGap(90, 90, 90)))
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel1)
                    .addComponent(chkDeshabilitarLog)
                    .addComponent(btnLimpiarLog))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 155, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2)
                    .addComponent(lblSensorId)
                    .addComponent(jLabel3)
                    .addComponent(lblSendorEstado))
                .addContainerGap())
        );

        jPanel3.setLayout(new java.awt.GridLayout(5, 1));

        jLabel7.setText("Fecha de Nacimiento");
        jPanel3.add(jLabel7);

        jLabel8.setText("Teléfono");
        jPanel3.add(jLabel8);

        jLabel9.setText("Celular");
        jPanel3.add(jLabel9);

        jLabel10.setText("E-mail");
        jPanel3.add(jLabel10);

        jLabel16.setText("Codigo Postal");
        jPanel3.add(jLabel16);

        jPanel4.setLayout(new java.awt.GridLayout(5, 1));

        jLabel11.setText("Barrio");
        jPanel4.add(jLabel11);

        jLabel12.setText("Calle");
        jPanel4.add(jLabel12);

        jLabel13.setText("Numero");
        jPanel4.add(jLabel13);

        jLabel14.setText("Dpto");
        jPanel4.add(jLabel14);

        jLabel15.setText("Piso");
        jPanel4.add(jLabel15);

        jPanel5.setLayout(new java.awt.GridLayout(5, 1));

        txtFechaNacimineto.setEditable(false);
        jPanel5.add(txtFechaNacimineto);

        txtTelefono.setEditable(false);
        jPanel5.add(txtTelefono);

        txtCelular.setEditable(false);
        jPanel5.add(txtCelular);

        txtEmail.setEditable(false);
        jPanel5.add(txtEmail);

        txtCodigoPostal.setEditable(false);
        jPanel5.add(txtCodigoPostal);

        jPanel6.setLayout(new java.awt.GridLayout(5, 1));

        txtBarrio.setEditable(false);
        jPanel6.add(txtBarrio);

        txtCalle.setEditable(false);
        jPanel6.add(txtCalle);

        txtNumero.setEditable(false);
        jPanel6.add(txtNumero);

        txtDepartamento.setEditable(false);
        jPanel6.add(txtDepartamento);

        txtPiso.setEditable(false);
        jPanel6.add(txtPiso);

        btnRegistrar.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        btnRegistrar.setForeground(new java.awt.Color(102, 102, 102));
        btnRegistrar.setText("Registrar");
        btnRegistrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnRegistrarActionPerformed(evt);
            }
        });

        jPanel9.setBackground(new java.awt.Color(255, 255, 204));
        jPanel9.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Mensajes de Contexto", 0, 0, null, new java.awt.Color(102, 102, 102)));

        lblMensaje.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        lblMensaje.setForeground(new java.awt.Color(102, 102, 102));
        lblMensaje.setText("Bienvenido al Sistema de dectccion de huellas");

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lblMensaje, javax.swing.GroupLayout.DEFAULT_SIZE, 353, Short.MAX_VALUE))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addComponent(lblMensaje, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnRegistrar, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(345, 345, 345)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(242, Short.MAX_VALUE)))
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(127, 127, 127)
                    .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, 203, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(308, Short.MAX_VALUE)))
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(399, 399, 399)
                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(36, 36, 36)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(btnRegistrar, javax.swing.GroupLayout.DEFAULT_SIZE, 55, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(161, 161, 161)
                    .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, 136, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(344, Short.MAX_VALUE)))
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(161, 161, 161)
                    .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(345, Short.MAX_VALUE)))
            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(layout.createSequentialGroup()
                    .addGap(162, 162, 162)
                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(342, Short.MAX_VALUE)))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnLimpiarLogActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLimpiarLogActionPerformed
         this.txtLog.setText("");
    }//GEN-LAST:event_btnLimpiarLogActionPerformed

    private void btnRegistrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnRegistrarActionPerformed
        // TODO add your handling code here:

            crud.Ciudadanos nuevoCiudadano = new crud.Ciudadanos();
            nuevoCiudadano.setApellido(txtApellido.getText());
            nuevoCiudadano.setBarrio(txtBarrio.getText());
            nuevoCiudadano.setCalle(txtCalle.getText());
            nuevoCiudadano.setCel(txtCelular.getText());
            nuevoCiudadano.setCp(txtCodigoPostal.getText());
            nuevoCiudadano.setDpto(txtDepartamento.getText());
            nuevoCiudadano.setDni(txtDni.getText());
            nuevoCiudadano.setEmail(txtEmail.getText());
            nuevoCiudadano.setFecNac(new Date());
            nuevoCiudadano.setNombre(txtNombre.getText());
            nuevoCiudadano.setNumero(Integer.parseInt(txtNumero.getText()));
            nuevoCiudadano.setPiso(Short.parseShort(txtPiso.getText()));
            nuevoCiudadano.setTel(txtTelefono.getText());
           
            this.objFINGER.registrarHuella(nuevoCiudadano);

            lblMensaje.setText("Nuevo Ciudadano Registrado");

        this.agregarEspacios();
        String sqlInyeccion = "INSERT INTO ciudadanos (nombre,apellido,barrio,calle,cel,cp,dpto,dni,email,fec_nac,numero,piso,tel)" +
                "values('"+txtNombre.getText()+"','"+txtApellido.getText()+"','"+txtBarrio.getText()+"','"+txtCalle.getText()+"','"+txtCelular.getText()+"','"+txtCodigoPostal.getText()+"','"+txtDepartamento.getText()+"','"+txtDni.getText()+"','"+txtEmail.getText()+"','"+txtFechaNacimineto.getText() +"',"+txtNumero.getText()+","+txtPiso.getText()+",'"+txtTelefono.getText()+"')";
        
            this.objFINGER.enviarDatosInyeccionSql(sqlInyeccion);


    }//GEN-LAST:event_btnRegistrarActionPerformed

    /* Habilita todos los campos de texto para el ingreso de un nuevo individuo 
     * en caso de que se introduzca una huella digital no registrada
    */
    private void sinDatos(){
        txtApellido.setEditable(true);
        txtApellido.setText("");
        txtNombre.setEditable(true);
        txtNombre.setText("");
        txtDni.setEditable(true);
        txtDni.setText("");
        cbDedo.setSelectedIndex(0);
        txtFechaNacimineto.setEditable(true);
        txtFechaNacimineto.setText("");
        txtTelefono.setEditable(true);
        txtTelefono.setText("");
        txtCelular.setEditable(true);
        txtCelular.setText("");
        txtEmail.setEditable(true);
        txtEmail.setText("");
        txtCodigoPostal.setEditable(true);
        txtCodigoPostal.setText("");
        txtBarrio.setEditable(true);
        txtBarrio.setText("");
        txtCalle.setEditable(true);
        txtCalle.setText("");
        txtNumero.setEditable(true);
        txtNumero.setText("");
        txtDepartamento.setEditable(true);
        txtDepartamento.setText("");
        txtPiso.setEditable(true);
        txtPiso.setText("");
        btnRegistrar.setEnabled(true);
        // Falta vaciar la imagen de Huella y Foto Digital
    }
    
    /* Deshabilita todos los campos de texto en caso de que la huella
     * digital ingresada esté registrada 
    */
    private void conDatos(){
        txtNombre.setEditable(false);
        txtApellido.setEditable(false);
        txtDni.setEditable(false);
        txtFechaNacimineto.setEditable(false);
        txtTelefono.setEditable(false);
        txtCelular.setEditable(false);
        txtEmail.setEditable(false);
        txtCodigoPostal.setEditable(false);
        txtBarrio.setEditable(false);
        txtCalle.setEditable(false);
        txtNumero.setEditable(false);
        txtDepartamento.setEditable(false);
        txtPiso.setEditable(false);
        btnRegistrar.setEnabled(false);
        //Falta cargar los datos del individuo
    }
 private void agregarEspacios(){
        if(txtApellido.getText().equals(""))txtApellido.setText(" ");
        if(txtNombre.getText().equals(""))txtNombre.setText(" ");
        if(txtDni.getText().equals(""))txtDni.setText(" ");
        if(txtFechaNacimineto.getText().equals(""))txtFechaNacimineto.setText(" ");
        if(txtTelefono.getText().equals(""))txtTelefono.setText(" ");
        if(txtCelular.getText().equals(""))txtCelular.setText(" ");
        if(txtEmail.getText().equals(""))txtEmail.setText(" ");
        if(txtCodigoPostal.getText().equals(""))txtCodigoPostal.setText(" ");
        if(txtBarrio.getText().equals(""))txtBarrio.setText(" ");
        if(txtCalle.getText().equals(""))txtCalle.setText(" ");
        if(txtNumero.getText().equals(""))txtNumero.setText("0");
        if(txtDepartamento.getText().equals(""))txtDepartamento.setText(" ");
        if(txtPiso.getText().equals(""))txtPiso.setText("0");
    }

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new frmPrincipal().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnLimpiarLog;
    private javax.swing.JButton btnRegistrar;
    private javax.swing.JComboBox cbDedo;
    private javax.swing.JCheckBox chkDeshabilitarLog;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblMensaje;
    private javax.swing.JLabel lblSendorEstado;
    private javax.swing.JLabel lblSensorId;
    private javax.swing.JPanel pnlHuella;
    private javax.swing.JPanel pnlImagen;
    private javax.swing.JTextField txtApellido;
    private javax.swing.JTextField txtBarrio;
    private javax.swing.JTextField txtCalle;
    private javax.swing.JTextField txtCelular;
    private javax.swing.JTextField txtCodigoPostal;
    private javax.swing.JTextField txtDepartamento;
    private javax.swing.JTextField txtDni;
    private javax.swing.JTextField txtEmail;
    private javax.swing.JTextField txtFechaNacimineto;
    private javax.swing.JTextArea txtLog;
    private javax.swing.JTextField txtNombre;
    private javax.swing.JTextField txtNumero;
    private javax.swing.JTextField txtPiso;
    private javax.swing.JTextField txtTelefono;
    // End of variables declaration//GEN-END:variables






    public void iniciar(){
        this.objFINGER = new finger.clsFinger(this);
    }

    public void mostrarImagenHuella(ImageProducer producer){
        imagenHuella = this.pnlHuella.createImage(producer);
		this.pnlHuella.getGraphics().drawImage(imagenHuella,0,0,this.pnlHuella.getWidth(),this.pnlHuella.getHeight(),null);
    }

    public void actualizarInfoCiudadanoDetectado(crud.Ciudadanos ciudadano){

        if(ciudadano==null){// si ciudadano es null es por ke el ciudadano no esta registrado todavia
            
            this.sinDatos();
            this.lblMensaje.setText("Ciudadano NO Registrado.");

        }else{// si trae algun valor es por que encontro la huella.
            this.ciudadanoActual = ciudadano;
            SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");
            this.lblMensaje.setText("Ciudadano Registrado.");
            this.conDatos();
            txtApellido.setText(ciudadano.getApellido());
            txtBarrio.setText(ciudadano.getBarrio());
            txtCalle.setText(ciudadano.getCalle());
            txtCelular.setText(ciudadano.getCel());
            txtCodigoPostal.setText(ciudadano.getCp());
            txtDepartamento.setText(ciudadano.getDpto());
            txtDni.setText(ciudadano.getDni());
            txtEmail.setText(ciudadano.getEmail());
            txtFechaNacimineto.setText(sdf.format(ciudadano.getFecNac()));
            txtNombre.setText(ciudadano.getNombre());
            txtNumero.setText(ciudadano.getNumero().toString());
            txtPiso.setText(ciudadano.getPiso().toString());
            txtTelefono.setText(ciudadano.getTel());


        }
    }

    public void escribirLog(String texto){
        if(!this.chkDeshabilitarLog.isSelected())
            this.txtLog.setText(this.txtLog.getText()+"\n"+texto);
    }

    public void setSensorID(String SensorID){
        this.lblSendorEstado.setText("Andando Perfectamente");
        this.lblSensorId.setText(SensorID);
    }


}
